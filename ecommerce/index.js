(()=>{"use strict";var e={956:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,".input-base{font-size:1rem;color:#3d3d3d;padding:.63rem 1rem;border-radius:5px;border:1px solid #eaeaea}.input-base:focus-visible{border-color:#46a358;outline:none}.input-base::placeholder{color:#a5a5a5}.input-base:has(+div.notice){outline:1px solid red}.input-base:has(+div.notice):focus-visible{border-color:red}",""]);const o=r},484:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,".button-base{font-size:1rem;color:#fff;user-select:none;padding:.63rem 1rem;cursor:pointer;border:none;outline:none;border-radius:5px;background-color:#46a358}.button_disabled{filter:grayscale(1) opacity(0.5);pointer-events:none}@media(hover: hover){.button-base:hover{background-color:color-mix(in srgb, #46A358 90%, black 10%)}}",""]);const o=r},40:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,".footer{display:flex;justify-content:space-between;align-items:center;gap:10px;user-select:none;padding:10px;height:80px;width:100%;border-top:solid 1px #46a358;color:#3d3d3d}.footer__link{display:flex;align-items:center;gap:10px}.school-logo{max-width:60px;width:100%}",""]);const o=r},660:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,'.header{user-select:none;padding:10px;height:80px;width:100%;color:#3d3d3d}.header__btn{max-width:fit-content;width:100%}.header__btn_hide{display:none}.logo-box{font-weight:700;color:#46a358;text-align:center;display:flex;flex-wrap:wrap;align-items:center;gap:5px;transition:.7s}@media(hover: hover){.logo-box:hover{cursor:pointer;transform:scale(1.05)}}.logo-box:active{transition:.2s;transform:scale(0.95)}.menu{list-style-type:none;display:flex;gap:5px;padding:0}.menu__item{padding:.63rem 1rem;border-radius:5px}.menu__item_active{color:#fff;background:#46a358}.menu__item,.basket{transition:.7s}@media(hover: hover){.menu__item:hover,.basket:hover{transform:scale(1.1);cursor:pointer}}.menu__item:active,.basket:active{transform:scale(0.9);transition:.2s}.navigation{display:flex;justify-content:space-between;align-items:center;gap:10px;transition:1s}.navigation__btns{display:flex;align-items:center;gap:10px}.btn-menu{opacity:.7;background:none;transition:1s;border:none;padding:0;height:60px;width:60px;display:none;position:absolute;z-index:200;top:20px;right:20px}@media(hover: hover){.btn-menu:hover{opacity:1;transform:scale(1.1);cursor:pointer;overflow:hidden;transition:1s}}.btn-menu:active{transition:.2s;transform:scale(0.9)}.btn-menu::before{content:"";position:absolute;top:16px;left:0;width:60px;height:10px;background:#3d3d3d;border-radius:10px;transition:1s}.btn-menu::after{content:"";position:absolute;top:30px;left:0;width:60px;height:10px;background:#3d3d3d;border-radius:10px;transition:1s}.btn-menu_cliked::before{top:23px;rotate:45deg}.btn-menu_cliked::after{top:23px;rotate:-45deg}@media(max-width: 768px){.navigation{display:block;padding:10px;position:relative;width:100%;transform:translateX(-180%);z-index:100;border-radius:5px;background:#fff}.navigation .menu{display:block;text-align:center}.navigation .navigation__btns{justify-content:flex-end}.btn-menu{display:block}}.navigation_show{transform:translateX(0)}',""]);const o=r},232:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,".notice{width:100%;text-align:left;color:#ff6c00;opacity:0;transition-duration:1s}.notice ul{padding-left:1.5rem;font-size:.8rem;margin:.2rem 0}.notice_show{opacity:1}",""]);const o=r},464:(e,t,n)=>{n.d(t,{A:()=>m});var s=n(601),i=n.n(s),a=n(314),r=n.n(a),o=n(417),l=n.n(o),d=new URL(n(511),n.b),c=r()(i()),u=l()(d);c.push([e.id,`.dialog{display:flex;justify-content:center;align-items:center;position:fixed;min-width:100%;min-height:100dvh;padding:1rem;border:none;background-color:rgba(10,13,18,.1921568627)}.dialog__wrapper{display:flex;position:relative;flex-direction:column;justify-content:center;align-items:center;min-width:10rem;max-width:31rem;min-height:5rem;max-height:90dvh;padding:clamp(1rem,6%,3rem);overflow:hidden;background-color:#fff}.dialog__wrapper::after{content:"";position:absolute;display:block;width:100%;height:.5rem;bottom:0;left:0;background-color:#46a358}.dialog__content{position:relative;font-size:1.2rem;text-align:center;word-break:break-word;text-indent:2rem}.dialog__content_warning::before{content:"";display:block;position:absolute;width:2rem;height:2rem;transform:translateY(-0.5rem);background-image:url(${u});background-position:center;background-repeat:no-repeat;background-size:cover}.dialog_btn-OK{padding-left:3rem;padding-right:3rem}`,""]);const m=c},76:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,"html{scroll-behavior:smooth;box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body{margin:0;padding:0;max-width:1440px;width:100%;height:100%;margin:auto;padding:10px;overflow-x:hidden}a{color:inherit;text-decoration:inherit}.main{padding:10px;min-height:calc(100vh - 180px)}",""]);const o=r},558:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,".login__header{display:flex;justify-content:center;align-items:center;width:100%;min-height:3rem;padding-bottom:2rem;gap:1rem;font-size:1.25rem;font-weight:700;letter-spacing:.05rem}.header__login{color:#46a358;text-shadow:1px 5px 5px #ababab}.header_line{font-weight:normal;color:#a5a5a5}.header_link{color:#3d3d3d;cursor:pointer}@media(hover: hover){.header_link:hover{color:#46a358}}",""]);const o=r},161:(e,t,n)=>{n.d(t,{A:()=>p});var s=n(601),i=n.n(s),a=n(314),r=n.n(a),o=n(417),l=n.n(o),d=new URL(n(243),n.b),c=new URL(n(784),n.b),u=r()(i()),m=l()(d),h=l()(c);u.push([e.id,`.page-login-container{display:flex;flex-wrap:wrap;justify-content:center;align-content:center;width:100%;min-height:calc(100vh - 200px);background-color:rgba(0,0,0,.2431372549)}.form__conteiner{position:relative;width:clamp(10rem,100%,30rem)}.form__conteiner::after{content:"";position:absolute;display:block;width:100%;height:.5rem;bottom:0;left:0;background-color:#46a358}.login-form{display:flex;flex-direction:column;justify-content:center;align-items:center;width:clamp(10rem,100%,30rem);gap:1rem;padding:clamp(1rem,10%,5rem) clamp(1rem,10%,3rem);font-family:Arial,Helvetica,sans-serif;background-color:#fff}.login-email__label,.login-email__input,.login-password__input,.login__btn-submit,.password__conteiner{width:100%}.login-email__label{letter-spacing:.03rem;color:#3d3d3d;font-size:.9rem}.password__conteiner{position:relative;display:flex;gap:.5rem;flex-direction:column;align-items:center}input.login-password__input{padding-right:2rem}.password-checkbox__label{position:absolute;display:inline-block;right:0;width:1.5rem;height:1.5rem;transform:translate(0rem, 45%);background-image:url(${m});background-position:center center;background-repeat:no-repeat;object-fit:cover;filter:opacity(0.3)}.password-checkbox__label:has(input:checked){filter:opacity(0.7);background-image:url(${h})}@media(hover: hover){.password-checkbox__label:hover{cursor:pointer;filter:opacity(0.5)}}`,""]);const p=u},309:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,".page-404{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;overflow-x:hidden;min-height:calc(100vh - 200px)}.page-404__title{width:100%;text-align:center;font-size:100px;color:#ff6c00;margin:0;padding:0}.page-404__image{max-width:280px;width:100%;animation:earth-rotate 10s linear infinite}.page-404__description{text-align:center;color:#3d3d3d;font-weight:700;font-size:20px;width:100%}@keyframes earth-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}",""]);const o=r},543:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),i=n.n(s),a=n(314),r=n.n(a)()(i());r.push([e.id,".page-registration-container{display:flex;flex-direction:column;align-items:center;justify-content:center}.registration-header{text-align:center;color:#3d3d3d;font-size:1.25rem;font-weight:700;letter-spacing:.05rem;margin-top:3%}",""]);const o=r},208:(e,t,n)=>{n.d(t,{A:()=>p});var s=n(601),i=n.n(s),a=n(314),r=n.n(a),o=n(417),l=n.n(o),d=new URL(n(243),n.b),c=new URL(n(784),n.b),u=r()(i()),m=l()(d),h=l()(c);u.push([e.id,`.registration-form-container{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;margin-bottom:1%}.registration-email__input,.registration-password__input,.registration-firstName__input,.registration-lastName__input,.registration-dateOfBirth__input{width:40%;margin:.5%}.registration-street__input,.registration-country__input,.registration-city__input,.registration-postalCode__input{width:70%;margin:.5%}.address-container{display:flex;width:100%;margin-top:3%;align-items:flex-start;justify-content:center}.address-form{display:flex;flex-direction:column;width:55%;justify-content:center;align-items:center;border:none}.address__label{color:#3d3d3d;font-size:.9rem;font-weight:700;letter-spacing:.05rem}.registration__btn-submit{margin-top:3%}.UseAsDefault__label{color:#3d3d3d;font-size:.75rem;font-weight:700;letter-spacing:.05rem}.registration-notice{display:flex;align-items:center;justify-content:start;width:40%;text-align:start}.registration-notice_password{display:flex;align-items:center;justify-content:start;width:100%;text-align:start}.registration-notice_address{display:flex;align-items:center;justify-content:start;width:70%;text-align:start}.invisible{display:none}.registration-password__input{width:100%}.password-checkbox__label{position:absolute;display:inline-block;margin-right:1%;right:0;width:1.5rem;height:1.5rem;transform:translate(0rem, 45%);background-image:url(${m});background-position:center center;background-repeat:no-repeat;object-fit:cover;filter:opacity(0.3)}.password-checkbox__label:has(input:checked){filter:opacity(0.7);background-image:url(${h})}@media(hover: hover){.password-checkbox__label:hover{cursor:pointer;filter:opacity(0.5)}}.password__container{width:40%;position:relative;display:flex;gap:.5rem;flex-direction:column;align-items:center}@media(max-width: 768px){.address-container{flex-wrap:wrap;gap:20px}.registration-email__input,.registration-password__input,.password__container,.registration-firstName__input,.registration-lastName__input,.registration-dateOfBirth__input,.registration-street__input,.registration-country__input,.registration-city__input,.registration-postalCode__input,.address-form,.registration-notice,.registration-notice_address{width:100%}}`,""]);const p=u},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);s&&r[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var a={},r=[],o=0;o<e.length;o++){var l=e[o],d=s.base?l[0]+s.base:l[0],c=a[d]||0,u="".concat(d," ").concat(c);a[d]=c+1;var m=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)t[m].references++,t[m].updater(h);else{var p=i(h,s);s.byIndex=o,t.splice(o,0,{identifier:u,updater:p,references:1})}r.push(u)}return r}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=s(e=e||[],i=i||{});return function(e){e=e||[];for(var r=0;r<a.length;r++){var o=n(a[r]);t[o].references--}for(var l=s(e,i),d=0;d<a.length;d++){var c=n(a[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},659:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},243:(e,t,n)=>{e.exports=n.p+"hide.svg"},784:(e,t,n)=>{e.exports=n.p+"show.svg"},511:(e,t,n)=>{e.exports=n.p+"warning.webp"}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={id:s,exports:{}};return e[s](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var i=s.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=s[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{(e=>{if("/"===e.search[1]){const t=e.search.slice(1).split("&").map((e=>e.replace(/~and~/g,"&"))).join("?");window.history.replaceState({},"",e.pathname.slice(0,-1)+t+e.hash)}})(window.location);var e=n(72),t=n.n(e),s=n(825),i=n.n(s),a=n(659),r=n.n(a),o=n(56),l=n.n(o),d=n(540),c=n.n(d),u=n(113),m=n.n(u),h=n(76),p={};p.styleTagTransform=m(),p.setAttributes=l(),p.insert=r().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=c(),t()(h.A,p),h.A&&h.A.locals&&h.A.locals;const g=new class{constructor(){this.routes=[],window.addEventListener("popstate",(()=>{this.route(window.location.pathname,!1)}))}addRoute(e){this.routes.push(e)}route(e,t=!0){for(const n of this.routes)if(n.path===e)return t&&window.history.pushState({},"",e),void n.handler()}},b=document.createElement("div");b.textContent="Main page...";var v=n(309),f={};f.styleTagTransform=m(),f.setAttributes=l(),f.insert=r().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=c(),t()(v.A,f),v.A&&v.A.locals&&v.A.locals,n.p;var y=n(484),w={};w.styleTagTransform=m(),w.setAttributes=l(),w.insert=r().bind(null,"head"),w.domAPI=i(),w.insertStyleElement=c(),t()(y.A,w),y.A&&y.A.locals&&y.A.locals;class _{constructor(e){var t,n;this.element=document.createElement(e.tagName),this.setClassName(null!==(t=e.classNames)&&void 0!==t?t:""),this.setTextContent(null!==(n=e.textContent)&&void 0!==n?n:""),e.parentNode&&this.render(e.parentNode),e.attribute&&this.setAttribute(e.attribute)}getElement(){return this.element}render(e){e instanceof HTMLElement?e.append(this.element):e.insertChild(this.getElement())}setClassName(e){e&&("string"==typeof e?this.element.classList.add(e):this.element.classList.add(...e))}removeClassName(e){this.element.classList.remove(e)}getTextContent(){return this.element.textContent}setTextContent(e){this.element.innerText=e}insertChild(e){e instanceof HTMLElement||e instanceof SVGSVGElement?this.element.append(e):this.element.append(e.getElement())}insertChildren(e){e.forEach((e=>this.insertChild(e.getElement())))}setAttribute(e){e&&this.element.setAttribute(e.name,e.value)}removeAttribute(e){e&&this.element.removeAttribute(e.name)}getChildren(){return Array.from(this.element.children)}destroy(){this.element.remove()}setOnclick(e){this.getElement().onclick=e}}class E extends _{constructor(e){super(Object.assign({tagName:"button"},e)),this.setClassName("button-base")}off(){this.setClassName("button_disabled")}on(){this.removeClassName("button_disabled")}}const x=new E({textContent:"LogIn",classNames:"login__btn-submit"}).getElement();x.textContent="Home";const N=document.createElement("div");N.classList.add("page-404");const C=document.createElement("div");C.innerHTML='\n  <h2 class="page-404__title">404</h2>\n  <img class="page-404__image" src="earth.svg"> \n  <p class="page-404__description">This Page Not Found</p>\n',C.append(x),N.append(C);const S=document.createElement("div");S.textContent="About us page...";const A=document.createElement("div");A.textContent="Products page...";const F=document.createElement("div");var k;F.textContent="Basket page...",function(e){e.notLogged="notlogged",e.logged="logged",e.anonymous="anonymous"}(k||(k={}));const L={authState:k.notLogged,access_token:{},customer:{}},P={},j=new Proxy(L,{get:(e,t)=>e[t],set:(e,t,n)=>{var s;return e[t]=n,null===(s=P[t])||void 0===s||s.forEach((e=>e())),!0}});function B(e){return void 0!==e.access_token}const O="202405062139";class T{constructor(){this.encode=e=>btoa(e),this.decode=e=>atob(e)}saveCredentials({email:e,password:t}){try{const n=JSON.stringify({email:e,password:t}),s=this.encode(n);return localStorage.setItem(O,s),localStorage.setItem("logged","true"),Promise.resolve("ok")}catch(e){return Promise.reject(e)}}getCredentials(){try{const e=localStorage.getItem(O);if(!e)return Promise.reject("no data");const t=this.decode(e);return Promise.resolve(JSON.parse(t))}catch(e){return Promise.reject(e)}}resetCredentials(){return localStorage.removeItem(O),Promise.resolve("ok")}}var I=n(161),J={};J.styleTagTransform=m(),J.setAttributes=l(),J.insert=r().bind(null,"head"),J.domAPI=i(),J.insertStyleElement=c(),t()(I.A,J),I.A&&I.A.locals&&I.A.locals;const $=e=>{const t=Object.assign({},e);return 0===t.subject.length?(t.errors.push("must not be empty"),t.validate=!1,t):t},Q=e=>{const t=Object.assign({},e);return t.subject.trim().length!==t.subject.length?(t.errors.push("must not contain leading or trailing whitespace"),t.validate=!1,t):t},D=e=>{const t=Object.assign({},e);return t.subject.length>33?(t.errors.push("should be less than 33 characters long"),t.validate=!1,t):t},M=e=>{const t=Object.assign({},e);return t.subject.match(/^[a-zA-Z0-9~`!@#$%^&*()\-_=+[\]{}\\|;:'",<.>/? ]+$/)||(t.errors.push("must contain latin symbols"),t.validate=!1),t},z=e=>{const t=Object.assign({},e);return t.subject.trim().length<8?(t.errors.push("password must be at least 8 characters long"),t.validate=!1,t):t},R=e=>{const t=Object.assign({},e);return t.subject.match(/[A-Z]+/g)||(t.errors.push("password must contain at least one uppercase letter (A-Z)"),t.validate=!1),t},H=e=>{const t=Object.assign({},e);return t.subject.match(/[a-z]+/g)||(t.errors.push("password must contain at least one lowercase letter (a-z)"),t.validate=!1),t},U=e=>{const t=Object.assign({},e);return t.subject.match(/[0-9]+/gi)||(t.errors.push("password must contain at least one digit (0-9)"),t.validate=!1),t},q=e=>{const t=Object.assign({},e);return t.subject.match(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu)||(t.errors.push("email address must be properly formatted (e.g., user@example.com)"),t.validate=!1),t},K=e=>{const t=Object.assign({},e);return t.subject.match(/\w+\.\w+/gi)||(t.errors.push("email address must contain a domain name (e.g., example.com)"),t.validate=!1),t},G=e=>{const t=Object.assign({},e);return t.subject.match(/\w+@\w+/gi)||(t.errors.push("email address must contain an `@` symbol separating local part and domain name"),t.validate=!1),t},Y=e=>{const t=Object.assign({},e);return t.subject.match(/^[a-zA-Z ]+$/)||(t.errors.push("must contain only letters a-z and no special characters or numbers"),t.validate=!1),t},Z=e=>{const t=Object.assign({},e);return t.subject.match(/[a-z]/gi)||(t.errors.push("must contain at least one character a-z or A-Z"),t.validate=!1),t},V=e=>{const t=Object.assign({},e),n=new Date(t.subject),s=new Date;let i=s.getFullYear()-n.getFullYear();const a=s.getMonth()-n.getMonth();return(a<0||0===a&&s.getDate()<n.getDate())&&(i-=1),i<13?(t.errors.push("user should be at least 13 years old"),t.validate=!1,t):t},X=e=>{const t=Object.assign({},e);return["IT","DE","ES","FI","EE"].includes(t.subject)||(t.errors.push("choose country-code from given list"),t.validate=!1),t};function W(...e){return t=>e.reduceRight(((e,t)=>t(e)),t)}var ee=n(558),te={};te.styleTagTransform=m(),te.setAttributes=l(),te.insert=r().bind(null,"head"),te.domAPI=i(),te.insertStyleElement=c(),t()(ee.A,te),ee.A&&ee.A.locals&&ee.A.locals;class ne extends _{constructor(){super({tagName:"div",classNames:"login__header"});const e=new _({tagName:"span",textContent:"Login",classNames:"header__login"});this.insertChildren([e])}}var se=n(956),ie={};ie.styleTagTransform=m(),ie.setAttributes=l(),ie.insert=r().bind(null,"head"),ie.domAPI=i(),ie.insertStyleElement=c(),t()(se.A,ie),se.A&&se.A.locals&&se.A.locals;class ae extends _{constructor(e){super(Object.assign({tagName:"input"},e)),this.setClassName("input-base")}get value(){return this.element.value}set value(e){this.element.value=e}get type(){return this.element.getAttribute("type")||""}set type(e){this.setAttribute({name:"type",value:e})}}var re=n(232),oe={};oe.styleTagTransform=m(),oe.setAttributes=l(),oe.insert=r().bind(null,"head"),oe.domAPI=i(),oe.insertStyleElement=c(),t()(re.A,oe),re.A&&re.A.locals&&re.A.locals;class le extends ae{constructor(e){super(Object.assign({},e)),this.notice=new _({tagName:"div",classNames:["notice"]})}showNotice(e){if(this.notice.getElement().innerHTML="",this.isEmptyMessages(e))return void this.notice.destroy();let t;"string"==typeof e?t=""===e?"":`<p>${e}</p>`:(t=e.reduce(((e,t)=>`${e}<li>${t}</li>`),"<ul>"),t+="</li>"),this.notice.getElement().innerHTML=t,this.element.after(this.notice.getElement()),setTimeout((()=>this.notice.setClassName("notice_show")))}isEmptyMessages(e){return"string"==typeof e?""===e:0===e.length||""===e[0]}}class de extends _{constructor(e){super({tagName:"div",classNames:"form__conteiner"}),this.isSubmitted=!1,this.dispatch=e;const t=new ne,n=new _({tagName:"label",textContent:"Enter your email and password to login.",classNames:"login-email__label"});this.inputEmail=new le({attribute:{name:"name",value:"email"},classNames:"login-email__input"}),this.inputPass=new le({attribute:{name:"name",value:"password"},classNames:"login-password__input"}),this.showPassword=new ae({attribute:{name:"type",value:"checkbox"}});const s=new _({tagName:"form",classNames:"login-form"});this.button=new E({textContent:"Login",classNames:"login__btn-submit"}),s.setAttribute({name:"novalidate",value:""}),this.inputEmail.setAttribute({name:"autocomplete",value:"off"}),this.inputEmail.setAttribute({name:"placeholder",value:"e-mail"}),this.inputPass.setAttribute({name:"placeholder",value:"password"}),this.inputPass.setAttribute({name:"autocomplete",value:"off"}),this.inputPass.setAttribute({name:"type",value:"password"}),this.showPassword.setAttribute({name:"hidden",value:""});const i=new _({tagName:"label",classNames:"password-checkbox__label"});i.insertChild(this.showPassword);const a=new _({tagName:"div",classNames:"password__conteiner"});a.insertChildren([this.inputPass,i]),s.insertChildren([t,n,this.inputEmail,a,this.button]),this.inputEmail.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.inputPass.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),i.getElement().addEventListener("change",(()=>this.handleCheckbox())),s.getElement().addEventListener("submit",(e=>this.handleSubmit(e))),this.insertChild(s)}btnON(){this.button.on()}btnOFF(){this.button.off()}resetForm(){this.inputEmail.value="",this.inputPass.value=""}handleCheckbox(){this.inputPass.type="password"===this.inputPass.type?"text":"password"}handleSubmit(e){e.preventDefault(),this.isSubmitted=!0,this.validateForm()&&this.dispatch({type:"login",payload:{email:this.inputEmail.value,password:this.inputPass.value}})}handleChangeInput(){this.isSubmitted&&this.validateForm()}validateForm(){const e=this.validateEmail(this.inputEmail.value),t=this.validatePassword(this.inputPass.value);return this.inputEmail.showNotice(e.errors),this.inputPass.showNotice(t.errors),e.validate&&t.validate}validateEmail(e){return W(q,Q,K)({subject:e,validate:!0,errors:[]})}validatePassword(e){return W(z,R,H,U,Q,D)({subject:e,validate:!0,errors:[]})}}class ce extends _{constructor(e){super({tagName:"article",classNames:"page-login-container"}),this.loginForm=new de(e),this.insertChild(this.loginForm)}resetForm(){this.loginForm.resetForm()}btnON(){this.loginForm.btnON()}btnOFF(){this.loginForm.btnOFF()}}const ue="Basic",me="Bearer",he="tpepapuz",pe=`/oauth/${he}/customers/token`,ge=btoa("yK9n9gAhU-I9R9GqMuqQltBr:OCgFOhzrouHycxT0ADKvY4s9sHA_YxHH"),be="application/x-www-form-urlencoded",ve="https://auth.eu-central-1.aws.commercetools.com",fe="https://api.eu-central-1.aws.commercetools.com",ye="(network error) failed to fetch data from a server",we=["manage_project:tpepapuz"];var _e=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};function Ee(e){return _e(this,void 0,void 0,(function*(){return e.ok?e.json():e.json().then((e=>e))}))}function xe(e,t){return fetch(ve+pe,{method:"POST",headers:{"Content-Type":be,Authorization:`${ue} ${ge}`},body:`grant_type=password&username=${e}&password=${t}`}).then(Ee).catch((()=>{throw new Error(ye)}))}var Ne=n(464),Ce={};Ce.styleTagTransform=m(),Ce.setAttributes=l(),Ce.insert=r().bind(null,"head"),Ce.domAPI=i(),Ce.insertStyleElement=c(),t()(Ne.A,Ce),Ne.A&&Ne.A.locals&&Ne.A.locals;class Se extends _{constructor(){super({tagName:"dialog",classNames:"dialog"}),this.close=e=>{e.preventDefault(),e instanceof KeyboardEvent&&"Escape"!==e.key||(this.dialog.close(),this.element.remove(),this.queue.length>0&&this.show(""))},this.queue=[];const e=new _({tagName:"div",classNames:"dialog__wrapper"});this.dialogContent=new _({tagName:"p",classNames:"dialog__content"}),this.dialog=this.element;const t=new E({textContent:"OK",classNames:"dialog_btn-OK"});e.insertChildren([this.dialogContent,t]),this.insertChild(e),document.addEventListener("keyup",this.close),t.getElement().addEventListener("click",(e=>this.close(e)))}static getInstance(){return Se.instance||(Se.instance=new Se),Se.instance}show(e,t="info"){e&&this.queue.push(e),this.dialog.open||(this.dialogContent.setTextContent(this.queue.shift()||""),"warning"===t&&this.dialogContent.setClassName("dialog__content_warning"),document.body.append(this.element),this.dialog.showModal())}}const Ae=Se.getInstance(),Fe=new T;class ke{constructor(){this.email="",this.password="",this.dispatch=e=>{const{type:t}=e;this.email=e.payload.email,this.password=e.payload.password,"login"===t&&(this.page.btnOFF(),this.execute(this.email,this.password).finally((()=>this.page.btnON())))},this.saveResponse=e=>(this.saveAccessToken(e),this.saveCredential(),this.saveClient(e),j.authState=k.logged,this),this.page=new ce(this.dispatch)}isLogined(){return new Promise(((e,t)=>{Fe.getCredentials().then((e=>{"string"!=typeof e?(this.email=e.email,this.password=e.password,xe(this.email,this.password).then(this.processResponse).then(this.saveResponse,this.handleError).catch((e=>t(e)))):t(e)})).catch((e=>t(e)))}))}getPage(){return this.page.resetForm(),this.page.getElement()}execute(e,t){return this.email=e,this.password=t,xe(e,t).then(this.processResponse).then(this.saveResponse,this.handleError).then(this.redirect).catch((e=>Ae.show(`${e}`,"warning")))}redirect(){g.route("/yourunb-JSFE2023Q4/ecommerce/")}processResponse(e){return B(e)?Promise.resolve(e):Promise.reject(e)}saveAccessToken(e){j.access_token=e}saveCredential(){Fe.saveCredentials({email:this.email,password:this.password})}saveClient(e){var t;(t=e.access_token,fetch(`${fe}/${he}/me`,{method:"GET",headers:{Authorization:`${me} ${t}`}}).then(Ee).catch((()=>{throw new Error(ye)}))).then((e=>{void 0!==e.email&&(j.customer=e)})).catch((e=>Ae.show(e,"warning")))}handleError(e){let t;switch(e.statusCode){case 400:t=`Authentication error: ${e.message} Please check that you have entered the correct email and password.`;break;case 401:t=`Unauthorized: ${e.message} Please check that you have entered the correct email and password.`;break;case 403:t=`Forbidden: ${e.message}`;break;case 404:t=`Resource Not Found: ${e.message}`;break;default:t=e.message}throw new Error(t)}}var Le=n(660),Pe={};Pe.styleTagTransform=m(),Pe.setAttributes=l(),Pe.insert=r().bind(null,"head"),Pe.domAPI=i(),Pe.insertStyleElement=c(),t()(Le.A,Pe),Le.A&&Le.A.locals&&Le.A.locals,n.p,n.p;const je=document.createElement("header");je.classList.add("header");const Be=document.createElement("nav");Be.classList.add("navigation");const Oe=document.createElement("div");Oe.classList.add("logo-box"),Oe.innerHTML='\n  <img src="logo.svg">\n  <span>PLANTSTORE</span>\n';const Te=document.createElement("ul");Te.classList.add("menu"),Te.innerHTML='\n  <li class="menu__item" title="Open main page">Home</li>\n  <li class="menu__item" title="Open products page">Products</li>\n  <li class="menu__item" title="Open about us page">About</li>\n';const Ie=document.createElement("div");Ie.classList.add("navigation__btns");const Je=document.createElement("img");Je.src="basket.svg",Je.classList.add("basket");const $e=new E({textContent:"LogIn",classNames:["login__btn-submit","header__btn"]}).getElement(),Qe=new E({textContent:"LogOut",classNames:["login__btn-submit","header__btn","header__btn_hide"]}).getElement(),De=new E({textContent:"Registration",classNames:["login__btn-submit","header__btn"]}).getElement(),Me=document.createElement("button");Me.classList.add("btn-menu"),Me.addEventListener("click",(()=>{Be.classList.toggle("navigation_show"),"btn-menu btn-menu_cliked"===Me.classList.value?Me.classList.remove("btn-menu_cliked"):Me.classList.add("btn-menu_cliked")})),Ie.append(Je,$e,Qe,De),Be.append(Oe,Te,Ie),je.append(Be,Me);var ze=n(40),Re={};Re.styleTagTransform=m(),Re.setAttributes=l(),Re.insert=r().bind(null,"head"),Re.domAPI=i(),Re.insertStyleElement=c(),t()(ze.A,Re),ze.A&&ze.A.locals&&ze.A.locals,n.p;const He=document.createElement("footer");He.classList.add("footer"),He.innerHTML='\n  <span>2024</span>\n  <a class="footer__link" target="_blank" rel="noopener" href="https://rs.school/">&copy; RS School <img class="school-logo" src="logo-rs.svg" alt="Logo"></a>\n';var Ue=n(543),qe={};qe.styleTagTransform=m(),qe.setAttributes=l(),qe.insert=r().bind(null,"head"),qe.domAPI=i(),qe.insertStyleElement=c(),t()(Ue.A,qe),Ue.A&&Ue.A.locals&&Ue.A.locals;var Ke=n(208),Ge={};Ge.styleTagTransform=m(),Ge.setAttributes=l(),Ge.insert=r().bind(null,"head"),Ge.domAPI=i(),Ge.insertStyleElement=c(),t()(Ke.A,Ge),Ke.A&&Ke.A.locals&&Ke.A.locals;class Ye extends _{constructor(e){super(Object.assign({tagName:"div",classNames:"address-container"},e)),this.addressFormShipping=new _({tagName:"fieldset",classNames:"address-form",parentNode:this.element}),this.addressLabel=new _({tagName:"label",textContent:"Shipping address",classNames:"address__label",parentNode:this.addressFormShipping.getElement()}),this.inputStreetShipping=new le({attribute:{name:"name",value:"street"},classNames:"registration-street__input",parentNode:this.addressFormShipping.getElement()}),this.inputStreetShipping.setAttribute({name:"placeholder",value:"street"}),this.inputStreetShipping.notice.setClassName("registration-notice_address"),this.inputCityShipping=new le({attribute:{name:"name",value:"city"},classNames:"registration-city__input",parentNode:this.addressFormShipping.getElement()}),this.inputCityShipping.setAttribute({name:"placeholder",value:"city"}),this.inputCityShipping.notice.setClassName("registration-notice_address"),this.inputPostalCodeShipping=new le({attribute:{name:"name",value:"postal code"},classNames:"registration-postalCode__input",parentNode:this.addressFormShipping.getElement()}),this.inputPostalCodeShipping.setAttribute({name:"placeholder",value:"postal code"}),this.inputPostalCodeShipping.notice.setClassName("registration-notice_address"),this.inputCountryShipping=new le({attribute:{name:"name",value:"country"},classNames:"registration-country__input",parentNode:this.addressFormShipping.getElement()}),this.inputCountryShipping.setAttribute({name:"placeholder",value:"country"}),this.inputCountryShipping.notice.setClassName("registration-notice_address");const t=new _({tagName:"datalist",classNames:"countryList"});t.getElement().id="countries",[["Italy","IT"],["Germany","DE"],["Spain","ES"],["Finland","FI"],["Estonia","EE"]].forEach((([e,n])=>{const s=new _({tagName:"option",textContent:e});s.getElement().value=n,t.insertChild(s)})),this.inputCountryShipping.insertChild(t),this.inputCountryShipping.getElement().setAttribute("list","countries"),this.addressFormBilling=new _({tagName:"fieldset",classNames:"address-form",parentNode:this.element}),this.addressLabel=new _({tagName:"label",textContent:"Billing address",classNames:"address__label",parentNode:this.addressFormBilling.getElement()}),this.inputStreetBilling=new le({attribute:{name:"name",value:"street"},classNames:"registration-street__input",parentNode:this.addressFormBilling.getElement()}),this.inputStreetBilling.notice.setClassName("registration-notice_address"),this.inputStreetBilling.setAttribute({name:"placeholder",value:"street"}),this.inputCityBilling=new le({attribute:{name:"name",value:"city"},classNames:"registration-city__input",parentNode:this.addressFormBilling.getElement()}),this.inputCityBilling.notice.setClassName("registration-notice_address"),this.inputCityBilling.setAttribute({name:"placeholder",value:"city"}),this.inputPostalCodeBilling=new le({attribute:{name:"name",value:"postal code"},classNames:"registration-postalCode__input",parentNode:this.addressFormBilling.getElement()}),this.inputPostalCodeBilling.notice.setClassName("registration-notice_address"),this.inputPostalCodeBilling.setAttribute({name:"placeholder",value:"postal code"}),this.inputCountryBilling=new le({attribute:{name:"name",value:"country"},classNames:"registration-country__input",parentNode:this.addressFormBilling.getElement()}),this.inputCountryBilling.notice.setClassName("registration-notice_address"),this.inputCountryBilling.setAttribute({name:"placeholder",value:"country"}),this.inputCountryBilling.insertChild(t),this.inputCountryBilling.getElement().setAttribute("list","countries"),this.useAsBillingLabel=new _({tagName:"label",textContent:"Use as billing address",classNames:"UseAsDefault__label",parentNode:this.addressFormShipping.getElement()}),this.useAsBilling=new ae({attribute:{name:"type",value:"checkbox"},parentNode:this.useAsBillingLabel.getElement()}),this.useAsBilling.getElement().addEventListener("change",(e=>{const t=e.target;t.checked&&(this.addressFormBilling.setClassName("invisible"),this.addressFormShipping.insertChild(this.useAsDefaultBillingLabel)),t.checked||(this.addressFormBilling.removeClassName("invisible"),this.addressFormBilling.insertChild(this.useAsDefaultBillingLabel))})),this.useAsDefaultShippingLabel=new _({tagName:"label",textContent:"Use as default shipping address",classNames:"UseAsDefault__label",parentNode:this.addressFormShipping.getElement()}),this.useAsDefaultShipping=new ae({attribute:{name:"type",value:"checkbox"},parentNode:this.useAsDefaultShippingLabel.getElement()}),this.useAsDefaultBillingLabel=new _({tagName:"label",textContent:"Use as default billing address",classNames:"UseAsDefault__label",parentNode:this.addressFormBilling.getElement()}),this.useAsDefaultBilling=new ae({attribute:{name:"type",value:"checkbox"},parentNode:this.useAsDefaultBillingLabel.getElement()})}}const Ze=Se.getInstance(),Ve=new T,Xe=new ke;class We extends _{constructor(e){super(Object.assign({tagName:"form",classNames:"registration-form-container"},e)),this.handleSubmit=e=>{if(e.preventDefault(),this.isSubmitted=!0,!this.validateForm())return;const t=this.createJSONfromForm();this.button.off(),fetch(`${ve}/oauth/${he}/anonymous/token`,{method:"POST",headers:{"Content-Type":be,Authorization:`${ue} ${ge}`},body:`grant_type=client_credentials&scope=${we}`}).then(Ee).catch((()=>{throw new Error(ye)})).then((e=>{if(B(e)){const n=e.access_token;(function(e,t){const n={method:"POST",headers:{"Content-Type":be,Authorization:`${me} ${t}`},body:JSON.stringify(e)};return fetch(`${fe}/${he}/me/signup`,n).then(Ee).catch((()=>{throw new Error(ye)}))})(t,n).then((e=>{var t;void 0!==e.customer?(Ze.show(`Welcome ${(null===(t=e.customer)||void 0===t?void 0:t.firstName)||""}!`),Ve.saveCredentials({email:this.inputEmail.value,password:this.inputPass.value}).then((()=>Xe.execute(this.inputEmail.value,this.inputPass.value).then((()=>g.route("/yourunb-JSFE2023Q4/ecommerce/")))))):this.showErrorMessage(e)})).catch(this.showErrorMessage)}})).catch(this.showErrorMessage).finally((()=>this.button.on()))},this.isSubmitted=!1,this.getElement().addEventListener("submit",(e=>this.handleSubmit(e))),this.inputEmail=new le({attribute:{name:"name",value:"email"},classNames:"registration-email__input",parentNode:this.element}),this.inputEmail.notice.setClassName("registration-notice"),this.inputEmail.setAttribute({name:"autocomplete",value:"off"}),this.inputEmail.setAttribute({name:"placeholder",value:"e-mail"}),this.inputEmail.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.inputPass=new le({attribute:{name:"name",value:"password"},classNames:"registration-password__input"}),this.inputPass.notice.setClassName("registration-notice_password"),this.inputPass.setAttribute({name:"placeholder",value:"password"}),this.inputPass.setAttribute({name:"autocomplete",value:"off"}),this.inputPass.setAttribute({name:"type",value:"password"}),this.inputPass.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.showPassword=new ae({attribute:{name:"type",value:"checkbox"}}),this.showPassword.setAttribute({name:"hidden",value:""});const t=new _({tagName:"label",classNames:"password-checkbox__label"});t.insertChild(this.showPassword),new _({tagName:"div",classNames:"password__container",parentNode:this.element}).insertChildren([this.inputPass,t]),t.getElement().addEventListener("change",(()=>this.handleCheckbox())),this.inputFirstName=new le({attribute:{name:"name",value:"firstName"},classNames:"registration-firstName__input",parentNode:this.element}),this.inputFirstName.notice.setClassName("registration-notice"),this.inputFirstName.setAttribute({name:"placeholder",value:"first name"}),this.inputFirstName.setAttribute({name:"autocomplete",value:"off"}),this.inputFirstName.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.inputLastName=new le({attribute:{name:"name",value:"lastName"},classNames:"registration-lastName__input",parentNode:this.element}),this.inputLastName.notice.setClassName("registration-notice"),this.inputLastName.setAttribute({name:"placeholder",value:"last name"}),this.inputLastName.setAttribute({name:"autocomplete",value:"off"}),this.inputLastName.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.inputDateOfBirth=new le({attribute:{name:"name",value:"date of birth"},classNames:"registration-dateOfBirth__input",parentNode:this.element}),this.inputDateOfBirth.notice.setClassName("registration-notice"),this.inputDateOfBirth.setAttribute({name:"placeholder",value:"date of birth"}),this.inputDateOfBirth.getElement().addEventListener("focus",(()=>{this.inputDateOfBirth.setAttribute({name:"type",value:"date"})})),this.inputDateOfBirth.getElement().addEventListener("blur",(()=>{this.inputDateOfBirth.removeAttribute({name:"type"})})),this.inputDateOfBirth.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.addressForm=new Ye({parentNode:this.element}),this.addressForm.inputCityBilling.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.addressForm.inputCityShipping.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.addressForm.inputStreetBilling.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.addressForm.inputStreetShipping.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.addressForm.inputPostalCodeBilling.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.addressForm.inputPostalCodeShipping.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.addressForm.inputCountryBilling.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.addressForm.inputCountryShipping.getElement().addEventListener("keyup",(()=>this.handleChangeInput())),this.button=new E({textContent:"register",classNames:"registration__btn-submit",parentNode:this.element})}handleCheckbox(){this.inputPass.type="password"===this.inputPass.type?"text":"password"}handleChangeInput(){this.isSubmitted&&this.validateForm()}createJSONfromForm(){let e={email:this.inputEmail.value,password:this.inputPass.value,firstName:this.inputFirstName.value,lastName:this.inputLastName.value,dateOfBirth:this.inputDateOfBirth.value,addresses:[{country:this.addressForm.inputCountryShipping.value,streetName:this.addressForm.inputStreetShipping.value,postalCode:this.addressForm.inputPostalCodeShipping.value,city:this.addressForm.inputCityShipping.value},{country:this.addressForm.inputCountryBilling.value,streetName:this.addressForm.inputStreetBilling.value,postalCode:this.addressForm.inputPostalCodeBilling.value,city:this.addressForm.inputCityBilling.value}]};return this.addressForm.useAsDefaultShipping.getElement().checked&&(e=Object.assign(Object.assign({},e),{defaultShippingAddress:0})),this.addressForm.useAsDefaultBilling.getElement().checked&&(e=Object.assign(Object.assign({},e),{defaultBillingAddress:1})),e}showErrorMessage(e){if(void 0!==e.statusCode){const t=e.errors?e.errors[0].detailedErrorMessage:"";t&&Ze.show(`${e.message} ${t}`,"warning"),Ze.show(`${e.message}`,"warning")}}copyShippingToBilling(){this.addressForm.inputCountryBilling.value=this.addressForm.inputCountryShipping.value,this.addressForm.inputStreetBilling.value=this.addressForm.inputStreetShipping.value,this.addressForm.inputPostalCodeBilling.value=this.addressForm.inputPostalCodeShipping.value,this.addressForm.inputCityBilling.value=this.addressForm.inputCityShipping.value}validateForm(){this.addressForm.useAsBilling.getElement().checked&&this.copyShippingToBilling();const e=this.validateEmail(this.inputEmail.value),t=this.validatePassword(this.inputPass.value),n=this.validateNamesAndCity(this.inputFirstName.value),s=this.validateNamesAndCity(this.inputLastName.value),i=this.validateDateOfBirth(this.inputDateOfBirth.value),a=this.validateNamesAndCity(this.addressForm.inputCityShipping.value),r=this.validateNamesAndCity(this.addressForm.inputCityBilling.value),o=this.validateStreet(this.addressForm.inputStreetShipping.value),l=this.validateStreet(this.addressForm.inputStreetBilling.value),d=this.validatePostalCode(this.addressForm.inputPostalCodeShipping.value),c=this.validatePostalCode(this.addressForm.inputPostalCodeBilling.value),u=this.validateCountry(this.addressForm.inputCountryShipping.value),m=this.validateCountry(this.addressForm.inputCountryBilling.value);return this.inputEmail.showNotice(e.errors),this.inputPass.showNotice(t.errors),this.inputFirstName.showNotice(n.errors),this.inputLastName.showNotice(s.errors),this.inputDateOfBirth.showNotice(i.errors),this.addressForm.inputCityShipping.showNotice(a.errors),this.addressForm.inputCityBilling.showNotice(r.errors),this.addressForm.inputStreetShipping.showNotice(o.errors),this.addressForm.inputStreetBilling.showNotice(l.errors),this.addressForm.inputPostalCodeShipping.showNotice(d.errors),this.addressForm.inputPostalCodeBilling.showNotice(c.errors),this.addressForm.inputCountryShipping.showNotice(u.errors),this.addressForm.inputCountryBilling.showNotice(m.errors),e.validate&&t.validate&&n.validate&&s.validate&&i.validate&&r.validate&&a.validate&&m.validate&&u.validate&&c.validate&&d.validate&&l.validate&&o.validate}validateEmail(e){return W(q,Q,K,G)({subject:e,validate:!0,errors:[]})}validatePassword(e){return W(z,R,H,U,Q,D)({subject:e,validate:!0,errors:[]})}validateNamesAndCity(e){return W(Q,Z,Y)({subject:e,validate:!0,errors:[]})}validateDateOfBirth(e){return W($,V)({subject:e,validate:!0,errors:[]})}validateStreet(e){return W(Q,Z,M)({subject:e,validate:!0,errors:[]})}validatePostalCode(e){return(e=>{const t=Object.assign({},e);return t.subject.match(/^[\d]{5}$/)||(t.errors.push("postal code must follow the format for the country (e.g., 12345)"),t.validate=!1),t})({subject:e,validate:!0,errors:[]})}validateCountry(e){return W($,X)({subject:e,validate:!0,errors:[]})}}class et extends _{constructor(e){super(Object.assign({tagName:"div",classNames:"page-registration-container"},e)),this.registrationHeader=new _({tagName:"div",classNames:"registration-header",textContent:"Registration",parentNode:this.element}),this.registrationForm=new We({parentNode:this.element})}}const tt=document.createElement("main");tt.classList.add("main");const nt=new ke;function st(){const e=Te.getElementsByClassName("menu__item");for(let t=0;t<e.length;t+=1)e[t].classList.remove("menu__item_active");"/yourunb-JSFE2023Q4/ecommerce/"===location.pathname&&e[0].classList.add("menu__item_active"),"/yourunb-JSFE2023Q4/ecommerce/products"===location.pathname&&e[1].classList.add("menu__item_active"),"/yourunb-JSFE2023Q4/ecommerce/about"===location.pathname&&e[2].classList.add("menu__item_active")}function it(){void 0!==localStorage.logged?(Qe.classList.remove("header__btn_hide"),$e.classList.add("header__btn_hide"),De.classList.add("header__btn_hide")):(Qe.classList.add("header__btn_hide"),$e.classList.remove("header__btn_hide"),De.classList.remove("header__btn_hide"))}nt.isLogined().then((()=>localStorage.setItem("logged","true")),(()=>localStorage.removeItem("logged"))),document.body.append(je,tt,He),it(),g.addRoute({path:"/yourunb-JSFE2023Q4/ecommerce/",handler:()=>{document.title="Plant Store",tt.innerHTML="",tt.append(b),st(),it()}}),g.addRoute({path:"/yourunb-JSFE2023Q4/ecommerce/products",handler:()=>{document.title="Products",tt.innerHTML="",tt.append(A),st(),it()}}),g.addRoute({path:"/yourunb-JSFE2023Q4/ecommerce/about",handler:()=>{document.title="About Us",tt.innerHTML="",tt.append(S),st(),it()}}),g.addRoute({path:"/yourunb-JSFE2023Q4/ecommerce/basket",handler:()=>{document.title="Basket",tt.innerHTML="",tt.append(F),st(),it()}}),g.addRoute({path:"/yourunb-JSFE2023Q4/ecommerce/login",handler:()=>{document.title="Login",tt.innerHTML="",tt.append(nt.getPage()),st(),it()}}),g.addRoute({path:"/yourunb-JSFE2023Q4/ecommerce/registration",handler:()=>{document.title="Registration",tt.innerHTML="",tt.append(new et({}).getElement()),st(),it()}}),g.addRoute({path:"/yourunb-JSFE2023Q4/ecommerce/404",handler:()=>{document.title="404",tt.innerHTML="",tt.append(N),st(),it()}}),window.onload=()=>{"/yourunb-JSFE2023Q4/ecommerce/"!==location.pathname?"/yourunb-JSFE2023Q4/ecommerce/products"!==location.pathname?"/yourunb-JSFE2023Q4/ecommerce/about"!==location.pathname?"/yourunb-JSFE2023Q4/ecommerce/basket"!==location.pathname?"/yourunb-JSFE2023Q4/ecommerce/login"!==location.pathname?"/yourunb-JSFE2023Q4/ecommerce/registration"!==location.pathname?g.route("/yourunb-JSFE2023Q4/ecommerce/404"):void 0===localStorage.logged?g.route("/yourunb-JSFE2023Q4/ecommerce/registration"):g.route("/yourunb-JSFE2023Q4/ecommerce/"):void 0===localStorage.logged?g.route("/yourunb-JSFE2023Q4/ecommerce/login"):g.route("/yourunb-JSFE2023Q4/ecommerce/"):g.route("/yourunb-JSFE2023Q4/ecommerce/basket"):g.route("/yourunb-JSFE2023Q4/ecommerce/about"):g.route("/yourunb-JSFE2023Q4/ecommerce/products"):g.route("/yourunb-JSFE2023Q4/ecommerce/")},window.onpopstate=()=>{void 0===localStorage.logged||"/yourunb-JSFE2023Q4/ecommerce/login"!==location.pathname&&"/yourunb-JSFE2023Q4/ecommerce/registration"!==location.pathname||(g.route("/yourunb-JSFE2023Q4/ecommerce/",!1),window.history.replaceState({},"","/yourunb-JSFE2023Q4/ecommerce/"),st())},Oe.addEventListener("click",(()=>{g.route("/yourunb-JSFE2023Q4/ecommerce/")})),x.addEventListener("click",(()=>{g.route("/yourunb-JSFE2023Q4/ecommerce/")})),$e.addEventListener("click",(()=>{g.route("/yourunb-JSFE2023Q4/ecommerce/login")})),Qe.addEventListener("click",(()=>{localStorage.clear(),g.route("/yourunb-JSFE2023Q4/ecommerce/")})),De.addEventListener("click",(()=>{g.route("/yourunb-JSFE2023Q4/ecommerce/registration")})),Je.addEventListener("click",(()=>{g.route("/yourunb-JSFE2023Q4/ecommerce/basket")})),Te.addEventListener("click",(e=>{const t=e.target;"Home"!==t.textContent?"Products"!==t.textContent?"About"!==t.textContent||g.route("/yourunb-JSFE2023Q4/ecommerce/about"):g.route("/yourunb-JSFE2023Q4/ecommerce/products"):g.route("/yourunb-JSFE2023Q4/ecommerce/")}))})()})();